<dom-module id="windhappers-page-calendar">
  <template>
    <style>
      :host {
        @apply(--layout-vertical);
        height: 100%;
        padding-top: 1%;
        padding-bottom: 1%;
        padding-left: 1%;
      }

      #calendar {
        @apply(--layout-flex);
        @apply(--shadow-elevation-2dp);
        border: none;
        margin-right: 1%;
      }

      .volunteer-container {
        @apply(--layout-horizontal);
        @apply(--layout-wrap);
      }

      windhappers-volunteer {
        @apply(--layout-flex);
        margin-bottom: 1%;
        margin-right: 1%;
      }

      windhappers-volunteer:not(.narrow) {
        min-width: 32%;
      }      
    </style>

    <google-sheets  id="sheetVolunteers" 
                key="17WpTzAng1WyamrsJR40S2yECPQJGENhPaM4S0zeSdEY"
                tab-id="1"
                published 
                rows="{{rows}}"></google-sheets>

    <div class="volunteer-container">
      <template is="dom-repeat" items="[[rows]]" as="row" filter="_isRelatedVolunteer">
        <windhappers-volunteer class$="{{_computeNarrowClass(narrow)}}"
                               name="{{row.gsx$name.$t}}"
                               function="{{row.gsx$function.$t}}"
                               email="{{row.gsx$email.$t}}"
                               email-personal="{{row.gsx$emailpersonal.$t}}"
                               phone="{{row.gsx$phone.$t}}"> </windhappers-volunteer>      
      </template>                    
    </div>                

    <iframe id="calendar" xmlns="http://www.w3.org/1999/xhtml" src="https://www.google.com/calendar/embed?showTitle=0&amp;wkst=2&amp;hl=nl&amp;bgcolor=%23FFFFFF&amp;src=dewindhappers%40gmail.com&amp;color=%232952A3&amp;src=nl.dutch%23holiday%40group.v.calendar.google.com&amp;color=%232F6309&amp;ctz=Europe%2FAmsterdam">Windhapper Calendar</iframe>
  </template>
  <script>
    (function() {
      'use strict';
      Polymer({
        is: 'windhappers-page-calendar',

        properties: {
          narrow: Boolean
        },

        _computeNarrowClass: function() {
          if (this.narrow) {
            return 'narrow';
          }
        },
        
        _isRelatedVolunteer: function(row) {
          return row.gsx$function.$t == 'Winteractiviteiten';
        }
      });
    })();
  </script>
</dom-module>
